(this["webpackJsonpreact-app-starterkit"]=this["webpackJsonpreact-app-starterkit"]||[]).push([[0],{1127:function(e,t,n){},1134:function(e,t,n){},1135:function(e,t,n){},1136:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n.n(c),s=n(15),o=n(332),a=n.n(o),i=n(4),u=(n(1127),n(3)),j=n(11),l=n(26),b=n(0),m=r.a.createContext(),d={init:!1,isActive:!1,user:null,authenticated:!1,submissionAccess:{},formAccess:{},projectAccess:{},roles:{},is:{},error:""},O=Object(i.auth)();function f(e){var t=r.a.useReducer(O,d),n=Object(l.a)(t,2),c=n[0],s=n[1],o=r.a.useMemo((function(){return[c,s]}),[c]);return Object(b.jsx)(m.Provider,Object(u.a)({value:o},e))}function h(){var e=r.a.useContext(m);if(!e)throw new Error("useAuth must be used within a AuthProvider");var t=Object(l.a)(e,2);return{state:t[0],dispatch:t[1]}}var p,v=function(){return Object(b.jsx)("footer",{className:"footer",children:Object(b.jsxs)("div",{className:"container text-center mt-auto",style:{padding:"15px"},children:["Built with \u2665 by\xa0",Object(b.jsx)("a",{href:"https://form.io",children:"Form.io"})]})})},x=function(e){var t=e.style,n=void 0===t?{width:"60px",height:"60px",marginLeft:"calc(50% - 60px)",marginTop:"40px"}:t,c=e.textClass;return Object(b.jsx)("div",{className:"spinner-border ".concat(c||"text-primary"),style:n,role:"status",children:Object(b.jsx)("span",{className:"sr-only",children:"Loading..."})})},g=(n.p,p={},window.location.search.substr(1).split("&").forEach((function(e){p[e.split("=")[0]]=e.split("=")[1]&&decodeURIComponent(e.split("=")[1])})),p),S={projectUrl:g.projectUrl||"https://tgbtohcsdunxdpv.form.io",apiUrl:g.apiUrl||"https://api.form.io"},y={form:"user/login"},I={form:"user/register"};i.Formio.setProjectUrl(S.projectUrl),i.Formio.setBaseUrl(S.apiUrl);var N=function(){var e=h().state,t=function(){if(e.user&&e.user.data)return Object(b.jsxs)("h3",{children:["You are logged in as\xa0",Object(b.jsx)("strong",{children:e.user.data.email}),"!"]})};return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"container",children:[e.authenticated?Object(b.jsx)("div",{className:"well text-center",children:Object(b.jsx)(t,{})}):null,Object(b.jsx)(i.Form,{src:"".concat(S.projectUrl,"/test")})]})})},E=function(e){var t=e.onYes,n=e.onNo,c=e.message,r=e.yesText,s=void 0===r?"Yes":r,o=e.noText,a=void 0===o?"No":o;return Object(b.jsxs)("div",{className:"mt-4",children:[Object(b.jsx)("h3",{children:c}),Object(b.jsxs)("div",{className:"btn-toolbar mt-4",children:[Object(b.jsx)("span",{onClick:t,className:"btn btn-danger",children:s}),Object(b.jsx)("span",{onClick:n,className:"btn btn-outline-dark",children:a})]})]})},F=function(e){var t=e.width,n=e.height,c=e.className,r=e.children,s={position:"absolute",top:"50%",width:t||"180px",height:n||"100px",left:"50%",transform:"translate(-50%, -50%)",boxShadow:"0px 0px 22px rgba(0, 0, 0, 0.4)",zIndex:"1001",fontSize:"16px"};return Object(b.jsx)("div",{className:"overlay",style:{height:"100vh",width:"100%",position:"absolute",zIndex:"1000",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:Object(b.jsx)("div",{className:c,style:s,children:r})})},U=function(e){var t=h().dispatch,n=Object(c.useState)(!1),r=Object(l.a)(n,2),s=r[0],o=r[1],a="".concat(S.projectUrl,"/").concat(y.form);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(i.Form,Object(u.a)(Object(u.a)({},e),{},{src:a,onSubmitDone:function(e){Object(i.setUser)(e)(t)},formReady:function(){return o(!0)}})),s?null:Object(b.jsx)(x,{})]})},C=function(e){var t=h().dispatch,n=Object(c.useState)(!1),r=Object(l.a)(n,2),s=r[0],o=r[1],a="".concat(S.projectUrl,"/").concat(I.form);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(i.Form,Object(u.a)(Object(u.a)({},e),{},{src:a,onSubmitDone:function(e){Object(i.setUser)(e)(t)},formReady:function(){return o(!0)}})),s?null:Object(b.jsx)(x,{})]})},R=function(){return Object(b.jsxs)("div",{className:"row",children:["https://reactstarter.form.io"!==S.projectUrl?Object(b.jsx)("div",{className:"col-md-12",children:Object(b.jsx)("div",{className:"alert alert-warning",children:"You can register a regular user here. To register an Admin user, go to your project in the form.io portal, navigate to the Admin resource and create an Admin."})}):null,Object(b.jsx)("div",{className:"col-lg-6 col-md-6",children:Object(b.jsxs)("div",{className:"panel panel-primary login-container card",children:[Object(b.jsx)("div",{className:"panel-heading panel-heading-primary card-header",children:"Login"}),Object(b.jsx)("div",{className:"panel-body card-body",children:Object(b.jsx)(U,{})})]})}),Object(b.jsx)("div",{className:"col-lg-6 col-md-6",children:Object(b.jsxs)("div",{className:"panel panel-primary register-container card",children:[Object(b.jsx)("div",{className:"panel-heading card-header",children:"Register"}),Object(b.jsx)("div",{className:"panel-body card-body",children:Object(b.jsx)(C,{})})]})})]})},k=r.a.createContext(),w={error:"",forms:[],isActive:!1,pagination:{numPages:0,page:1,total:0}};function A(e,t){switch(t.type){case"FORMS_RESET":return w;case"FORMS_REQUEST":return Object(u.a)(Object(u.a)({},e),{},{error:"",forms:[],isActive:!0,pagination:Object(u.a)(Object(u.a)({},e.pagination),{},{page:t.page})});case"FORMS_SUCCESS":var n=t.forms.serverCount;return Object(u.a)(Object(u.a)({},e),{},{forms:t.forms,isActive:!1,pagination:Object(u.a)(Object(u.a)({},e.pagination),{},{numPages:Math.ceil(n/t.limit),total:n})});case"FORMS_FAILURE":return Object(u.a)(Object(u.a)({},e),{},{error:t.error,isActive:!1});default:return e}}function _(e){var t=r.a.useReducer(A,w),n=Object(l.a)(t,2),c=n[0],s=n[1],o=r.a.useMemo((function(){return[c,s]}),[c]);return Object(b.jsx)(k.Provider,Object(u.a)({value:o},e))}function M(){var e=r.a.useContext(k);if(!e)throw new Error("useForms must be used within a FormsProvider");var t=Object(l.a)(e,2);return{state:t[0],dispatch:t[1]}}var P=function(e,t){return{type:"FORMS_REQUEST",page:e,params:t}},T=function(e,t){return{type:"FORMS_SUCCESS",forms:e,limit:t}},B=function(e){return{type:"FORMS_FAILURE",error:e}},L=function(e,t,n,c,r,s){var o=Object(u.a)(Object(u.a)({},t),c);return 10!==e?o.limit=e:delete o.limit,1!==s?o.skip=(s-1)*e:delete o.skip,r?o.select=r:delete o.select,n?o.sort=n:delete o.sort,o},D=r.a.createContext(),V={id:"",isActive:!1,lastUpdated:0,form:{},url:"",error:""},Q=function(e,t){switch(t.type){case"FORM_CLEAR_ERROR":return Object(u.a)(Object(u.a)({},e),{},{error:""});case"FORM_REQUEST":return Object(u.a)(Object(u.a)({},e),{},{isActive:!0,id:t.id,form:{},url:t.url,error:""});case"FORM_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{isActive:!1,id:t.form._id,form:t.form,url:t.url||e.url,error:""});case"FORM_FAILURE":return Object(u.a)(Object(u.a)({},e),{},{isActive:!1,isInvalid:!0,error:t.error});case"FORM_SAVE":return Object(u.a)(Object(u.a)({},e),{},{isActive:!0});case"FORM_RESET":return V;default:return e}};function Y(e){var t=r.a.useReducer(Q,V),n=Object(l.a)(t,2),c=n[0],s=n[1],o=r.a.useMemo((function(){return[c,s]}),[c,s]);return Object(b.jsx)(D.Provider,Object(u.a)({value:o},e))}function z(){var e=r.a.useContext(D);if(!e)throw new Error("useForm must be used within a FormProvider");var t=Object(l.a)(e,2);return{state:t[0],dispatch:t[1]}}var q=function(e,t){return{type:"FORM_REQUEST",id:e,url:t}},G=function(e,t){return{type:"FORM_SUCCESS",form:e,url:t}},J=function(e){return{type:"FORM_FAILURE",error:e}},H=function(e){return{type:"FORM_SAVE",form:e}},K=function(e,t,n){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},r="/".concat(t?"form/".concat(t):"".concat(n)),s="".concat(i.Formio.getProjectUrl()).concat(r),o=new i.Formio(s);return e(q(t,s)),o.loadForm().then((function(t){e(G(t)),c(null,t)})).catch((function(t){e(J(t)),c(t)}))},W=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};e(H(t));var c=t._id,r="".concat(i.Formio.getProjectUrl(),"/form").concat(c?"/".concat(c):""),s=new i.Formio(r);s.saveForm(t).then((function(t){var c="".concat(i.Formio.getProjectUrl(),"/form/").concat(t._id);e(G(t,c)),n(null,t)})).catch((function(t){e(J(t)),n(t)}))},X=r.a.createContext(),Z={error:"",formId:"",formName:"",isActive:!1,pagination:{numPages:0,page:1,total:0},submissions:[]},$=function(e,t){switch(t.type){case"SUBMISSIONS_RESET":return Z;case"SUBMISSIONS_REQUEST":return Object(u.a)(Object(u.a)({},e),{},{error:"",formId:t.formId,formName:t.formName,isActive:!0,pagination:Object(u.a)(Object(u.a)({},e.pagination),{},{page:t.page}),submissions:[]});case"SUBMISSIONS_SUCCESS":var n=t.submissions.serverCount;return Object(u.a)(Object(u.a)({},e),{},{isActive:!1,pagination:Object(u.a)(Object(u.a)({},e.pagination),{},{numPages:Math.ceil(n/t.limit),total:n}),submissions:t.submissions});case"SUBMISSIONS_FAILURE":return Object(u.a)(Object(u.a)({},e),{},{error:t.error,isActive:!1});default:return e}};function ee(e){var t=r.a.useReducer($,Z),n=Object(l.a)(t,2),c=n[0],s=n[1],o=r.a.useMemo((function(){return[c,s]}),[c]);return Object(b.jsx)(X.Provider,Object(u.a)({value:o},e))}function te(){var e=r.a.useContext(X);if(!e)throw new Error("useSubmissions must be used within a SubmissionsProvider");var t=Object(l.a)(e,2);return{state:t[0],dispatch:t[1]}}var ne=function(e,t,n,c){return{type:"SUBMISSIONS_REQUEST",page:e,params:t,formId:n,formName:c}},ce=function(e,t){return{type:"SUBMISSIONS_SUCCESS",submissions:e,limit:t}},re=function(e){return{type:"SUBMISSIONS_FAILURE",error:e}},se=function(e,t,n,c,r,s){var o=Object(u.a)(Object(u.a)({},t),c);return 10!==e?o.limit=e:delete o.limit,1!==s?o.skip=(s-1)*e:delete o.skip,r?o.select=r:delete o.select,n?o.sort=n:delete o.sort,o},oe=function(e){var t=e.FormError,n=e.formName,r=e.getViewPath,o=e.getEditPath,a=e.getDeletePath,m=e.createSubmissionPath,d=Object(j.f)(),O=Object(j.g)().formId,f=Object(c.useState)({limit:10,query:{},select:"",sort:""}),h=Object(l.a)(f,2),p=h[0],v=h[1],g=te(),S=g.state,y=g.dispatch,I=z().state,N=function(e,t){switch(t){case"view":case"row":d.push(r?r(O,e):"/form/".concat(O,"/submission/").concat(e._id));break;case"edit":d.push(o?o(O,e):"/form/".concat(O,"/submission/").concat(e._id,"/edit"));break;case"delete":d.push(a?a(O,e):"/form/".concat(O,"/submission/").concat(e._id,"/delete"))}},E=Object(c.useCallback)((function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,c=n.limit,r=n.query,s=n.select,o=n.sort,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=arguments.length>4?arguments[4]:void 0,j=arguments.length>5?arguments[5]:void 0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){};e(ne(t,a,u),j);var b="/".concat(u?"form/".concat(u):"".concat(j)),m=new i.Formio("".concat(i.Formio.getProjectUrl()).concat(b,"/submission")),d=se(c,r,o,a,s,t);return m.loadSubmissions({params:d}).then((function(t){e(ce(t,c)),l(null,t)})).catch((function(t){e(re(t)),l(t)}))}(y,e,p,t,O,n)}),[y,O,n,p]),F=function(e){v(Object(u.a)(Object(u.a)({},p),{},{limit:e}))};if(Object(c.useEffect)((function(){E(1)}),[O,E]),I.isActive||S.isActive)return Object(b.jsx)(x,{});var U=function(){var e;return Object(b.jsxs)("div",{className:"form-index",children:[Object(b.jsx)(i.Errors,{errors:[I.error,S.error]}),Object(b.jsx)(i.SubmissionGrid,{submissions:Object(u.a)(Object(u.a)({},S),p),form:I.form,onAction:N,getSubmissions:E,onPageSizeChanged:F}),Object(b.jsx)("div",{className:"d-flex justify-content-end mt-2",children:Object(b.jsxs)(s.b,{className:"btn btn-primary",to:m||"/form/".concat(O||I.id),children:[Object(b.jsx)("i",{className:"glyphicon glyphicon-plus fa fa-plus","aria-hidden":"true"}),"\xa0New ",null===(e=I.form)||void 0===e?void 0:e.title]})})]})};return I.error&&t?Object(b.jsx)(t,{error:I.error,children:Object(b.jsx)(U,{})}):Object(b.jsx)(U,{})},ae=r.a.createContext(),ie={formId:"",id:"",isActive:!1,lastUpdated:0,submission:{},url:"",error:""},ue=function(e,t){switch(t.type){case"SUBMISSION_CLEAR_ERROR":return Object(u.a)(Object(u.a)({},e),{},{error:""});case"SUBMISSION_REQUEST":return Object(u.a)(Object(u.a)({},e),{},{formId:t.formId,id:t.id,url:t.url,submission:{},isActive:!0});case"SUBMISSION_SAVE":return Object(u.a)(Object(u.a)({},e),{},{formId:t.formId,id:t.id,url:t.url||e.url,submission:{},isActive:!0});case"SUBMISSION_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{id:t.submission._id,submission:t.submission,isActive:!1,error:""});case"SUBMISSION_FAILURE":return Object(u.a)(Object(u.a)({},e),{},{isActive:!1,isInvalid:!0,error:t.error});case"SUBMISSION_RESET":return ie;default:return e}};function je(e){var t=r.a.useReducer(ue,ie),n=Object(l.a)(t,2),c=n[0],s=n[1],o=r.a.useMemo((function(){return[c,s]}),[c]);return Object(b.jsx)(ae.Provider,Object(u.a)({value:o},e))}function le(){var e=r.a.useContext(ae);if(!e)throw new Error("useSubmission must be used within a SubmissionProvider");var t=Object(l.a)(e,2);return{state:t[0],dispatch:t[1]}}var be=function(e,t,n){return{type:"SUBMISSION_REQUEST",id:e,formId:t,url:n}},me=function(e,t){return{type:"SUBMISSION_SUCCESS",submission:e,url:t}},de=function(e){return{type:"SUBMISSION_FAILURE",error:e}},Oe=function(e,t,n,c){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},s="/".concat(n?"form/".concat(n):"".concat(c)),o="".concat(i.Formio.getProjectUrl()).concat(s,"/submission").concat(t?"/".concat(t):""),a=new i.Formio(o);e(be(t,n,o)),a.loadSubmission().then((function(t){e(me(t)),r(null,t)})).catch((function(t){e(de(t)),r(t)}))},fe=function(e,t,n,c){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){};e({type:"SUBMISSION_SAVE"});var s=t._id,o=i.Formio.getProjectUrl(),a="/".concat(n?"form/".concat(n):"".concat(c)),u="/submission".concat(s?"/".concat(s):""),j="".concat(o).concat(a).concat(u),l=new i.Formio(j);l.saveSubmission(t).then((function(t){var n="".concat(o).concat(a,"/submission/").concat(t._id);e(me(t,n)),r(null,t)})).catch((function(t){e(de(t)),r(t)}))},he=function(e){var t,n=e.hideComponents,c=e.readOnly,r=e.formName,s=Object(j.g)().formId,o=Object(j.f)(),a=z().state,u=le(),l=u.state,m=u.dispatch,d=te().dispatch;return a.isActive||l.isActive?Object(b.jsx)(x,{}):Object(b.jsxs)("div",{children:[Object(b.jsxs)("h3",{children:["View ",null===(t=a.form)||void 0===t?void 0:t.title," Submission"]}),Object(b.jsx)(i.Errors,{errors:[a.error,l.error]}),Object(b.jsx)(i.Form,{form:a.form,submission:l.submission,url:l.url,hideComponents:n,onSubmit:function(e){fe(m,e,s,r,(function(e,t){e||(d({type:"SUBMISSIONS_RESET"}),o.push("/".concat(s?"form/".concat(s,"/submission"):"".concat(r),"/").concat(t._id)))}))},options:{template:"bootstrap3",iconset:"fa",readOnly:c}})]})},pe=function(e){var t=e.formName,n=Object(j.f)(),c=Object(j.g)(),r=c.formId,s=c.submissionId,o=c.eventId,a=le(),u=a.state,l=a.dispatch,m=te().dispatch,d=z().state,O="Are you sure you wish to delete the submission '".concat(s||o,"'?");return Object(b.jsxs)("div",{children:[Object(b.jsx)(i.Errors,{errors:[u.error,d.error]}),Object(b.jsx)(E,{message:O,onYes:function(){!function(e,t,n,c){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},s="/".concat(n?"form/".concat(n):"".concat(c));new i.Formio("".concat(i.Formio.getProjectUrl()).concat(s,"/submission/").concat(t)).deleteSubmission().then((function(){e({type:"SUBMISSION_RESET"}),r(null,!0)})).catch((function(t){e(de(t)),r(t)}))}(l,s||o,r,t,(function(e){e||(m({type:"SUBMISSIONS_RESET"}),n.push("/".concat(r?"form/".concat(r,"/submission"):"".concat(t))))}))},onNo:function(){var e=n[n.length-2];e&&n.push(e)}})]})},ve=function(){var e=Object(j.g)(),t=e.formId,n=e.submissionId,r=le().dispatch;Object(c.useEffect)((function(){Oe(r,n,t)}),[r,n,t]);var o=function(){return Object(b.jsxs)("ul",{className:"nav nav-tabs",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(s.b,{className:"nav-link",to:"/form/".concat(t,"/submission"),children:Object(b.jsx)("i",{className:"fa fa-chevron-left"})})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)(s.b,{className:"nav-link",to:"/form/".concat(t,"/submission/").concat(n),children:[Object(b.jsx)("i",{className:"fa fa-eye"})," View"]})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)(s.b,{className:"nav-link",to:"/form/".concat(t,"/submission/").concat(n,"/edit"),children:[Object(b.jsx)("i",{className:"fa fa-edit"})," Edit"]})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)(s.b,{className:"nav-link",to:"/form/".concat(t,"/submission/").concat(n,"/delete"),children:[Object(b.jsx)("i",{className:"fa fa-trash"})," Delete"]})})]})};return Object(b.jsxs)("div",{children:[Object(b.jsx)(o,{}),Object(b.jsxs)(j.c,{children:[Object(b.jsx)(j.a,{exact:!0,path:"/form/:formId/submission/:submissionId",component:function(){return Object(b.jsx)(he,{readOnly:!0})}}),Object(b.jsx)(j.a,{path:"/form/:formId/submission/:submissionId/edit",component:function(){return Object(b.jsx)(he,{readOnly:!1})}}),Object(b.jsx)(j.a,{path:"/form/:formId/submission/:submissionId/delete",component:pe})]})]})},xe=function(){return Object(b.jsx)(ee,{children:Object(b.jsxs)(j.c,{children:[Object(b.jsx)(j.a,{exact:!0,path:"/form/:formId/submission",component:oe}),Object(b.jsx)(j.a,{path:"/form/:formId/submission/:submissionId",render:function(e){return Object(b.jsx)(je,{children:Object(b.jsx)(ve,Object(u.a)({},e))})}})]})})},ge=function(e){var t=e.name,n=Object(j.f)(),c=z(),r=c.state,s=c.dispatch,o=M().dispatch,a=Object(j.g)().formId,u="Are you sure you wish to delete the form '".concat(r.form.title,"'?");return Object(b.jsxs)("div",{children:[Object(b.jsx)(i.Errors,{errors:[r.error]}),Object(b.jsx)(E,{message:u,onYes:function(){!function(e,t,n){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},r="/".concat(t?"form/".concat(t):"".concat(n)),s="".concat(i.Formio.getProjectUrl()).concat(r);new i.Formio(s).deleteForm().then((function(){e({type:"FORM_RESET"}),c()})).catch((function(t){e(J(t)),c(t)}))}(s,a,t,(function(e){e||(o({type:"FORMS_RESET"}),n.push("/form"))}))},onNo:function(){var e=n[n.length-2];e&&n.push(e)}})]})},Se=function(e){var t=e.submission,n=e.hideComponents,c=e.name,r=Object(j.f)(),s=z().state,o=Object(j.g)().formId,a=le().dispatch,u=te().dispatch,l=s.form,m=s.error,d=s.isActive,O=s.url;return d?Object(b.jsx)(x,{}):Object(b.jsxs)("div",{children:[Object(b.jsxs)("h3",{children:["New ",l.title]}),Object(b.jsx)(i.Errors,{errors:[m]}),Object(b.jsx)(i.Form,{form:l,submission:t,url:O,options:{noAlerts:!0,template:"bootstrap3",iconset:"fa"},hideComponents:n,onSubmit:function(e){fe(a,e,o,c,(function(e,t){e||(u({type:"SUBMISSIONS_RESET"}),r.push("/".concat(o?"form/".concat(o,"/submission"):"".concat(c),"/").concat(t._id)))}))}})]})},ye=n(236),Ie=r.a.createContext(),Ne=[];function Ee(e){var t=r.a.useState(Ne),n=Object(l.a)(t,2),c=n[0],s=n[1],o=r.a.useMemo((function(){return[c,s]}),[c]);return Object(b.jsx)(Ie.Provider,Object(u.a)({value:o},e))}function Fe(){var e=r.a.useContext(Ie);if(!e)throw new Error("useAlerts must be used within a AlertsProvider");var t=Object(l.a)(e,2),n=t[0],c=t[1],s=function(e){var t=Object(ye.a)(n);t.splice(e,1),c(t)},o=function(e,t){setTimeout((function(){s(e)}),t)};return{alerts:n,setAlerts:c,addAlert:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3,s=n.length;return c([].concat(Object(ye.a)(n),[Object(u.a)(Object(u.a)({},e),{},{key:s})])),t&&o(s,r),s},removeAlert:s,removeAfter:o}}var Ue=function(e){var t=e.type,n=e.content;return Object(b.jsx)("div",{className:"mr-2 alert alert-".concat(t),children:n})},Ce=function(e){var t=e.Alert,n=void 0===t?Ue:t,r=Fe().alerts;return Object(b.jsx)("div",{style:{position:"absolute",zIndex:1e3,top:0,right:0,display:"flex",flexDirection:"column",marginTop:"10px"},children:r.map((function(e){return Object(c.createElement)(n,Object(u.a)(Object(u.a)({},e),{},{key:e.key}))}))})},Re=n(5),ke=n.n(Re),we=function(e){var t,n=z(),c=n.state,r=n.dispatch,s=Fe().addAlert;return Object(b.jsxs)("div",{children:[Object(b.jsxs)("h2",{children:["Edit ",null===(t=c.form)||void 0===t?void 0:t.title," Form"]}),Object(b.jsx)("hr",{}),Object(b.jsx)(i.Errors,{errors:[c.error]}),Object(b.jsx)(i.FormEdit,{form:ke.a.cloneDeep(c.form),saveText:"Save Form",saveForm:function(e){return W(r,e,(function(e,t){e||s({type:"success",content:"Form succesfully updated"})}))}})]})},Ae=function(){var e=Object(j.g)().formId,t=z().dispatch;Object(c.useEffect)((function(){K(t,e)}),[t,e]);var n=function(){return Object(b.jsxs)("ul",{className:"nav nav-tabs",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(s.b,{className:"nav-link",to:"/form",children:Object(b.jsx)("i",{className:"fa fa-chevron-left"})})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)(s.b,{className:"nav-link",to:"/form/".concat(e),children:[Object(b.jsx)("i",{className:"fa fa-pencil"})," Enter Data"]})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)(s.b,{className:"nav-link",to:"/form/".concat(e,"/submission"),children:[Object(b.jsx)("i",{className:"fa fa-list-alt"})," View Data"]})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)(s.b,{className:"nav-link",to:"/form/".concat(e,"/edit"),children:[Object(b.jsx)("i",{className:"fa fa-edit"})," Edit Form"]})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)(s.b,{className:"nav-link",to:"/form/".concat(e,"/delete"),children:[Object(b.jsx)("i",{className:"fa fa-trash"})," Delete Form"]})})]})};return Object(b.jsxs)("div",{children:[Object(b.jsx)(n,{}),Object(b.jsxs)(j.c,{children:[Object(b.jsx)(j.a,{exact:!0,path:"/form/:formId",render:function(e){return Object(b.jsx)(ee,{children:Object(b.jsx)(je,{children:Object(b.jsx)(Se,Object(u.a)({},e))})})}}),Object(b.jsx)(j.a,{path:"/form/:formId/edit",component:we}),Object(b.jsx)(j.a,{path:"/form/:formId/delete",component:ge}),Object(b.jsx)(j.a,{path:"/form/:formId/submission",component:xe})]})]})},_e=function(){var e=Object(j.f)(),t=M(),n=t.state,r=t.dispatch,o=Object(c.useState)({limit:10,query:{},select:"",sort:""}),a=Object(l.a)(o,2),m=a[0],d=a[1],O=Object(c.useCallback)((function(e,t){!function(e,t){var n=t.limit,c=t.query,r=t.select,s=t.sort,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){};e(P(o,a));var j=new i.Formio("".concat(i.Formio.getProjectUrl(),"/form")),l=L(n,c,s,a,r,o);j.loadForms({params:l}).then((function(t){e(T(t,n)),u(null,t)})).catch((function(t){e(B(t)),u(t)}))}(r,m,e,t)}),[m,r]);Object(c.useEffect)((function(){O(1)}),[O]);return n.isActive?Object(b.jsx)(x,{}):Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"Forms"}),Object(b.jsx)(i.Errors,{errors:[n.error]}),Object(b.jsx)(i.FormGrid,{forms:Object(u.a)(Object(u.a)({},n),m),getForms:O,onAction:function(t,n){switch(n){case"view":e.push("/form/".concat(t._id));break;case"submission":e.push("/form/".concat(t._id,"/submission"));break;case"edit":e.push("/form/".concat(t._id,"/edit"));break;case"delete":e.push("/form/".concat(t._id,"/delete"))}},onPageSizeChanged:function(e){d(Object(u.a)(Object(u.a)({},m),{},{limit:e}))}}),Object(b.jsx)("div",{className:"d-flex justify-content-end mt-2",children:Object(b.jsxs)(s.b,{className:"btn btn-primary",to:"/form/create",children:[Object(b.jsx)("i",{className:"fa fa-plus"}),"\xa0Create Form"]})})]})},Me=function(){var e=Object(j.f)(),t=z(),n=t.state,c=t.dispatch;return Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"Create Form"}),Object(b.jsx)("hr",{}),Object(b.jsx)(i.Errors,{errors:[n.error]}),Object(b.jsx)(i.FormEdit,{saveForm:function(t){return W(c,t,(function(t,n){t||e.push("/form/".concat(n._id))}))},form:{display:"form"},saveText:"Create Form"})]})},Pe=function(){return Object(b.jsx)(_,{children:Object(b.jsxs)(j.c,{children:[Object(b.jsx)(j.a,{exact:!0,path:"/form",component:_e}),Object(b.jsx)(j.a,{exact:!0,path:"/form/create",render:function(e){return Object(b.jsx)(Y,{children:Object(b.jsx)(Me,Object(u.a)({},e))})}}),Object(b.jsx)(j.a,{path:"/form/:formId",render:function(e){return Object(b.jsx)(Y,{children:Object(b.jsx)(Ae,Object(u.a)({},e))})}})]})})},Te=(n(1134),function(e){var t=e.error,n=e.children;return"Invalid alias"===t?Object(b.jsx)("div",{className:"alert alert-warning",children:'You have not yet created an Event Resource in your project. Either create an Event Resource with the path of "event" or import the src/project.json into your project.'}):Object(b.jsx)(b.Fragment,{children:n})}),Be=function(e){var t=Object(j.g)().eventId,n=le().dispatch;Object(c.useEffect)((function(){Oe(n,t,null,"event")}),[t,n]);var r=function(){return Object(b.jsxs)("ul",{className:"nav nav-tabs",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(s.b,{className:"nav-link",to:"/event",children:Object(b.jsx)("i",{className:"fa fa-chevron-left"})})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)(s.b,{className:"nav-link",to:"/event/".concat(t),children:[Object(b.jsx)("i",{className:"fa fa-eye"})," View"]})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)(s.b,{className:"nav-link",to:"/event/".concat(t,"/edit"),children:[Object(b.jsx)("i",{className:"fa fa-edit"})," Edit"]})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)(s.b,{className:"nav-link",to:"/event/".concat(t,"/delete"),children:[Object(b.jsx)("i",{className:"fa fa-trash"})," Delete"]})})]})};return Object(b.jsxs)("div",{children:[Object(b.jsx)(r,{}),Object(b.jsxs)(j.c,{children:[Object(b.jsx)(j.a,{exact:!0,path:"/event/:eventId",component:function(){return Object(b.jsx)(he,{readOnly:!0,formName:"event"})}}),Object(b.jsx)(j.a,{path:"/event/:eventId/edit",component:function(){return Object(b.jsx)(he,{readOnly:!1,formName:"event"})}}),Object(b.jsx)(j.a,{path:"/event/:eventId/delete",render:function(e){return Object(b.jsx)(pe,Object(u.a)(Object(u.a)({},e),{},{formName:"event"}))}})]})]})},Le=function(){var e=z().dispatch;return Object(c.useEffect)((function(){K(e,null,"event")}),[e]),Object(b.jsx)(_,{children:Object(b.jsx)(ee,{children:Object(b.jsxs)(j.c,{children:[Object(b.jsx)(j.a,{exact:!0,path:"/event",render:function(e){return Object(b.jsx)(oe,Object(u.a)(Object(u.a)({},e),{},{FormError:Te,formName:"event",getViewPath:function(e,t){return"/event/".concat(t._id)},getEditPath:function(e,t){return"/event/".concat(t._id,"/edit")},getDeletePath:function(e,t){return"/event/".concat(t._id,"/delete")},createSubmissionPath:"/event/create"}))}}),Object(b.jsx)(j.a,{exact:!0,path:"/event/create",render:function(e){return Object(b.jsx)(je,{children:Object(b.jsx)(Se,Object(u.a)(Object(u.a)({},e),{},{name:"event"}))})}}),Object(b.jsx)(j.a,{path:"/event/:eventId",render:function(e){return Object(b.jsx)(je,{children:Object(b.jsx)(Be,Object(u.a)({},e))})}})]})})})};n(1135);var De=function(){var e=h(),t=e.dispatch,n=e.state.isActive;return Object(c.useEffect)((function(){Object(i.initAuth)()(t)}),[t]),Object(b.jsxs)(b.Fragment,{children:[n?Object(b.jsx)(F,{className:"alert alert-info",children:Object(b.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(b.jsx)(x,{style:{marginBottom:" 10px"}}),"Logging In..."]})}):null,Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("link",{rel:"stylesheet",href:"https://unpkg.com/@nl-design-system-unstable/amsterdam-design-tokens/dist/theme/index.css"}),Object(b.jsx)("link",{rel:"stylesheet",href:"https://unpkg.com/@nl-design-system-unstable/rijkshuisstijl-design-tokens/dist/theme/index.css"}),Object(b.jsx)("link",{rel:"stylesheet",href:"https://unpkg.com/@nl-design-system-unstable/duo-design-tokens/dist/theme/index.css"}),Object(b.jsx)("link",{rel:"stylesheet",type:"text/css",href:"https://unpkg.com/@utrecht/design-tokens/dist/theme/index.css"}),Object(b.jsxs)("div",{class:"theme-switcher",children:[Object(b.jsx)("label",{for:"",children:"Theme:"}),Object(b.jsxs)("select",{onChange:function(e){return document.documentElement.className=e.target.value},children:[Object(b.jsx)("option",{value:"duo-theme",children:"DUO"}),Object(b.jsx)("option",{value:"amsterdam-theme",children:"Gemeente Amsterdam"}),Object(b.jsx)("option",{value:"utrecht-theme",selected:!0,children:"Gemeente Utrecht"})]})]}),Object(b.jsxs)(Ee,{children:[Object(b.jsx)(Ce,{}),Object(b.jsxs)("div",{className:"container",id:"main",children:["https://reactstarter.form.io"===S.projectUrl?Object(b.jsx)("div",{className:"alert alert-warning",children:"This app is still configured to use the default project. Be sure to create your own project in form.io and change the PROJECT_URL in src/config.js"}):null,Object(b.jsx)(j.a,{exact:!0,path:"/",component:N}),Object(b.jsx)(j.a,{path:"/form",component:Pe}),Object(b.jsx)(j.a,{path:"/event",render:function(e){return Object(b.jsx)(Y,{children:Object(b.jsx)(Le,Object(u.a)({},e))})}}),Object(b.jsx)(j.a,{path:"/auth",component:R})]})]}),Object(b.jsx)(v,{})]})]})},Ve=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1139)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),s(e),o(e)}))},Qe=n(20),Ye=n(21),ze=n(23),qe=n(14),Ge=n(24),Je=n(22),He=function(e){Object(Ge.a)(n,e);var t=Object(Je.a)(n);function n(){return Object(Qe.a)(this,n),t.apply(this,arguments)}return Object(Ye.a)(n,[{key:"inputInfo",get:function(){var e=Object(ze.a)(Object(qe.a)(n.prototype),"inputInfo",this);return e.attr.class="utrecht-button",e}}]),n}(i.Formio.Components.components.button),Ke=function(e){Object(Ge.a)(n,e);var t=Object(Je.a)(n);function n(){return Object(Qe.a)(this,n),t.apply(this,arguments)}return Object(Ye.a)(n,[{key:"inputInfo",get:function(){var e=Object(ze.a)(Object(qe.a)(n.prototype),"inputInfo",this);return e.attr.class="utrecht-checkbox",e}}]),n}(i.Formio.Components.components.checkbox),We=function(e){Object(Ge.a)(n,e);var t=Object(Je.a)(n);function n(){return Object(Qe.a)(this,n),t.apply(this,arguments)}return Object(Ye.a)(n,[{key:"inputInfo",get:function(){var e=Object(ze.a)(Object(qe.a)(n.prototype),"inputInfo",this);return e.attr.class="utrecht-textbox",e}}]),n}(i.Formio.Components.components.currency),Xe=n(111),Ze=function(e){Object(Ge.a)(n,e);var t=Object(Je.a)(n);function n(e,c,r){var s;return Object(Qe.a)(this,n),s=t.call(this,e,c,r),console.log(Object(Xe.a)(s)),s}return Object(Ye.a)(n,[{key:"inputInfo",get:function(){var e=Object(ze.a)(Object(qe.a)(n.prototype),"inputInfo",this);return e.attr.class="utrecht-textbox",e}}]),n}(i.Formio.Components.components.datetime),$e=function(e){Object(Ge.a)(n,e);var t=Object(Je.a)(n);function n(){return Object(Qe.a)(this,n),t.apply(this,arguments)}return Object(Ye.a)(n,[{key:"inputInfo",get:function(){var e=Object(ze.a)(Object(qe.a)(n.prototype),"inputInfo",this);return e.attr.class="utrecht-textbox",e}}]),n}(i.Formio.Components.components.email),et={components:{button:He,checkbox:Ke,content:function(e){Object(Ge.a)(n,e);var t=Object(Je.a)(n);function n(){return Object(Qe.a)(this,n),t.apply(this,arguments)}return Object(Ye.a)(n,[{key:"init",value:function(){Object(ze.a)(Object(qe.a)(n.prototype),"init",this).call(this),this.component.customClass="utrecht-html"}}]),n}(i.Formio.Components.components.content),currency:We,datetime:Ze,email:$e,number:function(e){Object(Ge.a)(n,e);var t=Object(Je.a)(n);function n(){return Object(Qe.a)(this,n),t.apply(this,arguments)}return Object(Ye.a)(n,[{key:"inputInfo",get:function(){var e=Object(ze.a)(Object(qe.a)(n.prototype),"inputInfo",this);return e.attr.class="utrecht-textbox",e}}]),n}(i.Formio.Components.components.number),password:function(e){Object(Ge.a)(n,e);var t=Object(Je.a)(n);function n(){return Object(Qe.a)(this,n),t.apply(this,arguments)}return Object(Ye.a)(n,[{key:"inputInfo",get:function(){var e=Object(ze.a)(Object(qe.a)(n.prototype),"inputInfo",this);return e.attr.class="utrecht-textbox",e}}]),n}(i.Formio.Components.components.password),phoneNumber:function(e){Object(Ge.a)(n,e);var t=Object(Je.a)(n);function n(){return Object(Qe.a)(this,n),t.apply(this,arguments)}return Object(Ye.a)(n,[{key:"inputInfo",get:function(){var e=Object(ze.a)(Object(qe.a)(n.prototype),"inputInfo",this);return e.attr.class="utrecht-textbox",e}}]),n}(i.Formio.Components.components.phoneNumber),radio:function(e){Object(Ge.a)(n,e);var t=Object(Je.a)(n);function n(){return Object(Qe.a)(this,n),t.apply(this,arguments)}return Object(Ye.a)(n,[{key:"inputInfo",get:function(){var e=Object(ze.a)(Object(qe.a)(n.prototype),"inputInfo",this);return e.attr.class="utrecht-radio-button",e}}]),n}(i.Formio.Components.components.radio),textarea:function(e){Object(Ge.a)(n,e);var t=Object(Je.a)(n);function n(){return Object(Qe.a)(this,n),t.apply(this,arguments)}return Object(Ye.a)(n,[{key:"inputInfo",get:function(){var e=Object(ze.a)(Object(qe.a)(n.prototype),"inputInfo",this);return e.attr.class="utrecht-textarea",e}}]),n}(i.Formio.Components.components.textarea),textfield:function(e){Object(Ge.a)(n,e);var t=Object(Je.a)(n);function n(){return Object(Qe.a)(this,n),t.apply(this,arguments)}return Object(Ye.a)(n,[{key:"inputInfo",get:function(){var e=Object(ze.a)(Object(qe.a)(n.prototype),"inputInfo",this);return e.attr.class="utrecht-textbox",e}}]),n}(i.Formio.Components.components.textfield),time:function(e){Object(Ge.a)(n,e);var t=Object(Je.a)(n);function n(e,c,r){var s;return Object(Qe.a)(this,n),s=t.call(this,e,c,r),console.log(Object(Xe.a)(s)),s}return Object(Ye.a)(n,[{key:"inputInfo",get:function(){var e=Object(ze.a)(Object(qe.a)(n.prototype),"inputInfo",this);return e.attr.class="utrecht-textbox",e}}]),n}(i.Formio.Components.components.time),url:function(e){Object(Ge.a)(n,e);var t=Object(Je.a)(n);function n(){return Object(Qe.a)(this,n),t.apply(this,arguments)}return Object(Ye.a)(n,[{key:"inputInfo",get:function(){var e=Object(ze.a)(Object(qe.a)(n.prototype),"inputInfo",this);return e.attr.class="utrecht-textbox",e}}]),n}(i.Formio.Components.components.url)}};i.Formio.use(et),a.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(f,{children:Object(b.jsx)(s.a,{children:Object(b.jsx)(De,{})})})}),document.getElementById("root")),Ve(console.log)}},[[1136,1,2]]]);
//# sourceMappingURL=main.2f59c4c4.chunk.js.map