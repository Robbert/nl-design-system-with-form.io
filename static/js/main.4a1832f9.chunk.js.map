{"version":3,"sources":["config.js","modules/auth/authContext.js","common/Loading/Loading.jsx","common/Modal/Modal.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["query","window","location","search","substr","split","forEach","item","decodeURIComponent","getQuery","AppConfig","projectUrl","apiUrl","Formio","setProjectUrl","setBaseUrl","AuthContext","React","createContext","initialState","init","isActive","user","authenticated","submissionAccess","formAccess","projectAccess","roles","is","error","authReducer","auth","AuthProvider","props","useReducer","state","dispatch","value","useMemo","Provider","useAuth","context","useContext","Error","Loading","style","width","height","marginLeft","marginTop","textClass","className","role","Modal","children","contentStyle","position","top","left","transform","boxShadow","zIndex","fontSize","backgroundColor","App","useEffect","initAuth","script","document","createElement","src","type","body","appendChild","marginBottom","rel","href","htmlFor","id","onChange","evt","documentElement","target","selected","options","sanitizeConfig","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","use","components","Templates","current","templates","ReactDOM","render","StrictMode","getElementById","console","log"],"mappings":"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","file":"static/js/main.4a1832f9.chunk.js","sourcesContent":["import { Formio } from 'react-formio';\n\nconst getQuery = (query) => {\n  window.location.search\n    .substr(1)\n    .split('&')\n    .forEach(function (item) {\n      query[item.split('=')[0]] = item.split('=')[1] && decodeURIComponent(item.split('=')[1]);\n    });\n\n  return query;\n};\n\nconst query = getQuery({});\nconst PROJECT_URL = query.projectUrl || 'https://tgbtohcsdunxdpv.form.io';\nconst API_URL = query.apiUrl || 'https://api.form.io';\n\nexport const AppConfig = {\n  projectUrl: PROJECT_URL,\n  apiUrl: API_URL,\n};\n\nexport const AuthConfig = {\n  anonState: '/auth',\n  authState: '/',\n  login: {\n    form: 'user/login',\n  },\n  register: {\n    form: 'user/register',\n  },\n};\n\nFormio.setProjectUrl(AppConfig.projectUrl);\nFormio.setBaseUrl(AppConfig.apiUrl);\n","import React from 'react';\nimport { auth } from 'react-formio';\n\nconst AuthContext = React.createContext();\n\nconst initialState = {\n  init: false,\n  isActive: false,\n  user: null,\n  authenticated: false,\n  submissionAccess: {},\n  formAccess: {},\n  projectAccess: {},\n  roles: {},\n  is: {},\n  error: '',\n};\n\nconst authReducer = auth();\n\nexport function AuthProvider(props) {\n  const [state, dispatch] = React.useReducer(authReducer, initialState);\n  const value = React.useMemo(() => [state, dispatch], [state]);\n\n  return <AuthContext.Provider value={value} {...props} />;\n}\n\nexport function useAuth() {\n  const context = React.useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth must be used within a AuthProvider');\n  }\n\n  const [state, dispatch] = context;\n\n  return {\n    state,\n    dispatch,\n  };\n}\n","import React from \"react\";\n\nconst Loading = (props) => {\n  const {\n    style = {\n      width: \"60px\",\n      height: \"60px\",\n      marginLeft: \"calc(50% - 60px)\",\n      marginTop: \"40px\",\n    },\n    textClass,\n  } = props;\n\n  return (\n    <div className={`spinner-border ${textClass || \"text-primary\"}`} style={style} role=\"status\">\n      <span className=\"sr-only\">Loading...</span>\n    </div>\n  );\n};\n\nexport default Loading;\n","import React from \"react\";\n\nconst Modal = ({ width, height, className, children }) => {\n  const contentStyle = {\n    position: \"absolute\",\n    top: \"50%\",\n    width: width || \"180px\",\n    height: height || \"100px\",\n    left: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    boxShadow: \"0px 0px 22px rgba(0, 0, 0, 0.4)\",\n    zIndex: \"1001\",\n    fontSize: \"16px\",\n  };\n\n  const overlayStyle = {\n    height: \"100vh\",\n    width: \"100%\",\n    position: \"absolute\",\n    zIndex: \"1000\",\n    backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n  };\n\n  return (\n    <div className=\"overlay\" style={overlayStyle}>\n      <div className={className} style={contentStyle}>\n        {children}\n      </div>\n    </div>\n  );\n};\n\nexport default Modal;\n","import React, { useEffect } from \"react\";\nimport { AppConfig } from \"./config\";\nimport { Form, initAuth } from \"react-formio\";\nimport { useAuth } from \"./modules/auth\";\nimport { Loading, Modal } from \"./common\";\nimport { UtrechtDocument, UtrechtHeading1, UtrechtPageFooter } from \"@utrecht/web-component-library-react\";\nimport { sanitizeConfig } from \"@utrecht/component-library-formio\";\nimport \"./App.scss\";\n\nfunction App() {\n  const {\n    dispatch,\n    state: { isActive },\n  } = useAuth();\n\n  useEffect(() => {\n    initAuth()(dispatch);\n  }, [dispatch]);\n\n  useEffect(() => {\n    /*\n     * ./node_modules/@utrecht/web-component-library-stencil/dist/utrecht/utrecht.esm.js 3:18\n     * Module parse failed: Unexpected token (3:18)\n     * File was processed with these loaders:\n     *  * ./node_modules/babel-loader/lib/index.js\n     * You may need an additional loader to handle the result of these loaders.\n     * | import { p as e, b as t } from \"./p-3048cba9.js\";\n     * | (() => {\n     * >   const t = import.meta.url,\n     * |         a = {};\n     * |   return \"\" !== t && (a.resourcesUrl = new URL(\".\", t).href), e(a);\n     */\n    // import(\"@utrecht/web-component-library-stencil/dist/utrecht/utrecht.esm.js\");\n\n    const script = document.createElement(\"script\");\n    script.src = \"https://unpkg.com/@utrecht/web-component-library-stencil@latest/dist/utrecht/utrecht.esm.js\";\n    script.type = \"module\";\n    document.body.appendChild(script);\n  }, []);\n\n  return (\n    <>\n      {isActive ? (\n        <Modal className=\"alert alert-info\">\n          <div className=\"d-flex flex-column align-items-center\">\n            <Loading style={{ marginBottom: \" 10px\" }} />\n            Logging In...\n          </div>\n        </Modal>\n      ) : null}\n      <UtrechtDocument>\n        <UtrechtHeading1>NL Design System with form.io</UtrechtHeading1>\n        <link\n          rel=\"stylesheet\"\n          href=\"https://unpkg.com/@nl-design-system-unstable/amsterdam-design-tokens/dist/theme/index.css\"\n        />\n        <link\n          rel=\"stylesheet\"\n          href=\"https://unpkg.com/@nl-design-system-unstable/rijkshuisstijl-design-tokens/dist/theme/index.css\"\n        />\n        <link\n          rel=\"stylesheet\"\n          href=\"https://unpkg.com/@nl-design-system-unstable/duo-design-tokens/dist/theme/index.css\"\n        />\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"https://unpkg.com/@utrecht/design-tokens/dist/theme/index.css\" />\n        <div className=\"theme-switcher\">\n          <label htmlFor=\"theme\">Theme:</label>\n          <select id=\"theme\" onChange={(evt) => (document.documentElement.className = evt.target.value)}>\n            <option value=\"duo-theme\">DUO</option>\n            <option value=\"amsterdam-theme\">Gemeente Amsterdam</option>\n            <option value=\"utrecht-theme\" selected>\n              Gemeente Utrecht\n            </option>\n          </select>\n        </div>\n        <Form src={`${AppConfig.projectUrl}/test`} options={{ sanitizeConfig }} />\n        <UtrechtPageFooter>© 2021 Robbert Broersma</UtrechtPageFooter>\n      </UtrechtDocument>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport ReactDOM from 'react-dom';\nimport { Formio, Templates } from 'react-formio';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport './config';\nimport { AuthProvider } from './modules/auth';\nimport '@utrecht/component-library-css/dist/bem.css';\nimport { components, templates } from '@utrecht/component-library-formio';\nimport '@utrecht/design-tokens/dist/index.css';\n\nFormio.use({ components });\nTemplates.current = templates;\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthProvider>\n      <Router>\n        <App />\n      </Router>\n    </AuthProvider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals(console.log);\n"],"sourceRoot":""}